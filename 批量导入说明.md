# 批量导入说明

## 批量导入宿舍

### CSV文件格式
批量导入宿舍的CSV文件需要包含以下列：
- `building_name`: 楼栋名称（如：A栋、B栋等）
- `room_number`: 房间号（如：101、201等）
- `room_type`: 房间类型（4或8，代表4人间或8人间）
- `max_capacity`: 最大容量（应与room_type一致）

### 示例文件
参考 `example_import_rooms.csv` 文件，包含了4个楼栋共48个房间的示例数据。

### 导入步骤
1. 登录管理员账号
2. 进入"管理后台" -> "房间管理"
3. 点击"批量导入房间CSV"按钮
4. 选择准备好的CSV文件
5. 系统会自动创建楼栋、房间和对应的床位

### 注意事项
- 如果楼栋不存在，系统会自动创建
- 每个房间会根据room_type自动创建对应数量的床位（4人间创建4个床位，8人间创建8个床位）
- 房间号在同一楼栋内必须唯一
- CSV文件必须使用UTF-8编码

## 批量导入用户

### CSV文件格式
批量导入用户的CSV文件需要包含以下列：
- `username`: 用户名（建议使用学号）
- `password`: 初始密码
- `name`: 真实姓名

### 示例文件
参考 `example_import_users.csv` 文件，包含了50个学生用户的示例数据。

### 导入步骤
1. 登录管理员账号
2. 进入"管理后台" -> "用户管理"
3. 点击"导入用户CSV"按钮
4. 选择准备好的CSV文件
5. 系统会自动创建用户账号

### 注意事项
- 用户名必须唯一，建议使用学号
- 密码会自动加密存储
- 导入的用户默认为普通用户（非管理员）
- 建议导入后通知用户及时修改初始密码
- CSV文件必须使用UTF-8编码

## 批量导入流程建议

1. **准备阶段**
   - 收集学生信息和宿舍楼信息
   - 按照示例格式准备CSV文件
   - 确保文件编码为UTF-8

2. **导入顺序**
   - 先导入宿舍房间数据
   - 再导入用户数据
   - 最后进行抽签和分配

3. **验证检查**
   - 导入后检查数据是否完整
   - 确认房间数量和床位数量正确
   - 确认用户数量正确

## 常见问题

1. **导入失败**
   - 检查CSV格式是否正确
   - 检查是否有重复的房间号或用户名
   - 确保文件编码为UTF-8

2. **中文乱码**
   - 使用Excel编辑时，保存为"CSV UTF-8"格式
   - 使用记事本打开并另存为UTF-8编码

3. **数据错误**
   - room_type只能是4或8
   - max_capacity必须与room_type一致
   - 用户名不能重复